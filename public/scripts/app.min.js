(function(e){window.anchor={settings:{transitionDuration:2e3,transitionTimingFunction:'swing',labels:{error:'Couldn\'t find any section'}},init:function(t){return e(this).data('settings',e.extend(anchor.settings,t)),this.each(function(){var t=e(this);t.unbind('click').click(function(e){e.preventDefault(),anchor.jumpTo(anchor.getTopOffsetPosition(t),t.data('settings'))})})},getTopOffsetPosition:function(t){var a=t.attr('href'),o=e(e(a).get(0)),n=e(document).height(),r=e(window).height();if(!o||1>o.length)throw new ReferenceError(anchor.settings.labels.error);return o.offset().top+r>n?n-r:o.offset().top},jumpTo:function(t,a){var o=e('html, body');o.animate({scrollTop:t},a.transitionDuration,a.transitionTimingFunction),o.bind('scroll mousedown DOMMouseScroll mousewheel keyup',function(e){(0<e.which||'mousedown'===e.type||'mousewheel'===e.type)&&o.stop().unbind('scroll mousedown DOMMouseScroll mousewheel keyup')})}},e.fn.anchor=function(t){return anchor[t]?anchor[t].apply(this,Array.prototype.slice.call(arguments,1)):'object'!=typeof t&&t?e.error('Method '+t+' does not exist on jQuery.anchor'):anchor.init.apply(this,arguments)}})(jQuery),function(e){'function'==typeof define&&define.amd?define(['jquery'],e):'object'==typeof exports?e(require('jquery')):e(jQuery)}(function(t){function a(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var e=new Date;return a(e.getFullYear(),e.getMonth(),e.getDate())}function e(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function o(e,a){return function(){return void 0!==a&&t.fn.datepicker.deprecated(a),this[e].apply(this,arguments)}}function r(e){return e&&!isNaN(e.getTime())}function i(e,a){function o(e,t){return t.toLowerCase()}var n,r=t(e).data(),i={},s=new RegExp('^'+a.toLowerCase()+'([A-Z])');for(var d in a=new RegExp('^'+a.toLowerCase()),r)a.test(d)&&(n=d.replace(s,o),i[n]=r[d]);return i}function s(e){var a={};if(y[e]||(e=e.split('-')[0],!!y[e])){var o=y[e];return t.each(g,function(e,t){t in o&&(a[t]=o[t])}),a}}var l=Math.floor,d=Math.max,p=function(){var e={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),a=0,o=this.length;a<o;a++)if(0<=this[a].valueOf()-t&&86400000>this[a].valueOf()-t)return a;return-1},remove:function(e){this.splice(e,1)},replace:function(e){e&&(!t.isArray(e)&&(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var e=new p;return e.replace(this),e}};return function(){var o=[];return o.push.apply(o,arguments),t.extend(o,e),o}}(),c=function(e,a){t.data(e,'datepicker',this),this._process_options(a),this.dates=new p,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInput=this.element.is('input'),this.inputField=this.isInput?this.element:this.element.find('input'),this.component=!!this.element.hasClass('date')&&this.element.find('.add-on, .input-group-addon, .btn'),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is('div'),this.picker=t(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find('.prev').html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find('.next').html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass('datepicker-inline').appendTo(this.element):this.picker.addClass('datepicker-dropdown dropdown-menu'),this.o.rtl&&this.picker.addClass('datepicker-rtl'),this.o.calendarWeeks&&this.picker.find('.datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear').attr('colspan',function(e,t){return+t+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};c.prototype={constructor:c,_resolveViewName:function(e){return t.each(v.viewModes,function(a,o){if(e===a||-1!==t.inArray(e,o.names))return e=a,!1}),e},_resolveDaysOfWeek:function(e){return t.isArray(e)||(e=e.split(/[,\s]*/)),t.map(e,Number)},_check_template:function(e){try{if(e===void 0||''===e)return!1;if(0>=(e.match(/[<>]/g)||[]).length)return!0;var a=t(e);return 0<a.length}catch(e){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var r=this.o=t.extend({},this._o),o=r.language;y[o]||(o=o.split('-')[0],!y[o]&&(o=m.language)),r.language=o,r.startView=this._resolveViewName(r.startView),r.minViewMode=this._resolveViewName(r.minViewMode),r.maxViewMode=this._resolveViewName(r.maxViewMode),r.startView=d(this.o.minViewMode,Math.min(this.o.maxViewMode,r.startView)),!0!==r.multidate&&(r.multidate=+r.multidate||!1,!1!==r.multidate&&(r.multidate=d(0,r.multidate))),r.multidateSeparator+='',r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var i=v.parseFormat(r.format);r.startDate!==-Infinity&&(r.startDate?r.startDate instanceof Date?r.startDate=this._local_to_utc(this._zero_time(r.startDate)):r.startDate=v.parseDate(r.startDate,i,r.language,r.assumeNearbyYear):r.startDate=-Infinity),r.endDate!==Infinity&&(r.endDate?r.endDate instanceof Date?r.endDate=this._local_to_utc(this._zero_time(r.endDate)):r.endDate=v.parseDate(r.endDate,i,r.language,r.assumeNearbyYear):r.endDate=Infinity),r.daysOfWeekDisabled=this._resolveDaysOfWeek(r.daysOfWeekDisabled||[]),r.daysOfWeekHighlighted=this._resolveDaysOfWeek(r.daysOfWeekHighlighted||[]),r.datesDisabled=r.datesDisabled||[],t.isArray(r.datesDisabled)||(r.datesDisabled=r.datesDisabled.split(',')),r.datesDisabled=t.map(r.datesDisabled,function(e){return v.parseDate(e,i,r.language,r.assumeNearbyYear)});var s=(r.orientation+'').toLowerCase().split(/\s+/g),l=r.orientation.toLowerCase();if(s=t.grep(s,function(e){return /^auto|left|right|top|bottom$/.test(e)}),r.orientation={x:'auto',y:'auto'},!l||'auto'===l);else if(1===s.length)switch(s[0]){case'top':case'bottom':r.orientation.y=s[0];break;case'left':case'right':r.orientation.x=s[0];}else l=t.grep(s,function(e){return /^left|right$/.test(e)}),r.orientation.x=l[0]||'auto',l=t.grep(s,function(e){return /^top|bottom$/.test(e)}),r.orientation.y=l[0]||'auto';if(r.defaultViewDate instanceof Date||'string'==typeof r.defaultViewDate)r.defaultViewDate=v.parseDate(r.defaultViewDate,i,r.language,r.assumeNearbyYear);else if(r.defaultViewDate){var p=r.defaultViewDate.year||new Date().getFullYear(),c=r.defaultViewDate.month||0,u=r.defaultViewDate.day||1;r.defaultViewDate=a(p,c,u)}else r.defaultViewDate=n()},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,a,o,n=0;n<e.length;n++)t=e[n][0],2===e[n].length?(a=void 0,o=e[n][1]):3===e[n].length&&(a=e[n][1],o=e[n][2]),t.on(o,a)},_unapplyEvents:function(e){for(var t,a,o,n=0;n<e.length;n++)t=e[n][0],2===e[n].length?(o=void 0,a=e[n][1]):3===e[n].length&&(o=e[n][1],a=e[n][2]),t.off(a,o)},_buildEvents:function(){var e={keyup:t.proxy(function(a){-1===t.inArray(a.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=t.proxy(this.show,this)),this._events=this.isInput?[[this.element,e]]:this.component&&this.inputField.length?[[this.inputField,e],[this.component,{click:t.proxy(this.show,this)}]]:[[this.element,{click:t.proxy(this.show,this),keydown:t.proxy(this.keydown,this)}]],this._events.push([this.element,'*',{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[this.picker,'.prev, .next',{click:t.proxy(this.navArrowsClick,this)}],[this.picker,'.day:not(.disabled)',{click:t.proxy(this.dayCellClick,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,a){var o=a||this.dates.get(-1),n=this._utc_to_local(o);this.element.trigger({type:e,date:n,viewMode:this.viewMode,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):'string'==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var a=this.dates.get(e);return v.formatDate(a,t,this.o.language)},this)})},show:function(){if(!(this.inputField.prop('disabled')||this.inputField.prop('readonly')&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger('show'),(window.navigator.msMaxTouchPoints||'ontouchstart'in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(':visible')?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger('hide'),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(a){var e;if(a.originalEvent.clipboardData&&a.originalEvent.clipboardData.types&&-1!==t.inArray('text/plain',a.originalEvent.clipboardData.types))e=a.originalEvent.clipboardData.getData('text/plain');else if(window.clipboardData)e=window.clipboardData.getData('Text');else return;this.setDate(e),this.update(),a.preventDefault()},_utc_to_local:function(e){if(!e)return e;var t=new Date(e.getTime()+6e4*e.getTimezoneOffset());return t.getTimezoneOffset()!==e.getTimezoneOffset()&&(t=new Date(e.getTime()+6e4*t.getTimezoneOffset())),t},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&a(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return void 0===e?null:new Date(e)},clearDates:function(){this.inputField.val(''),this.update(),this._trigger('changeDate'),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger('changeDate'),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,t.map(e,this._utc_to_local)),this},setDate:o('setDates'),setUTCDate:o('setUTCDates'),remove:o('destroy','Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead'),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(e){e===void 0&&(e=this.o.format);var a=this.o.language;return t.map(this.dates,function(t){return v.formatDate(t,e,a)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){return this._process_options({datesDisabled:e}),this.update(),this},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),a=this.picker.outerHeight(),o=t(this.o.container),n=o.width(),r='body'===this.o.container?t(document).scrollTop():o.scrollTop(),i=o.offset(),s=[0];this.element.parents().each(function(){var e=t(this).css('z-index');'auto'!==e&&0!==+e&&s.push(+e)});var l=d.apply(Math,s)+this.o.zIndexOffset,p=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),f=p.left-i.left,h=p.top-i.top;'body'!==this.o.container&&(h+=r),this.picker.removeClass('datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left'),'auto'===this.o.orientation.x?0>p.left?(this.picker.addClass('datepicker-orient-left'),f-=p.left-10):f+e>n?(this.picker.addClass('datepicker-orient-right'),f+=u-e):this.o.rtl?this.picker.addClass('datepicker-orient-right'):this.picker.addClass('datepicker-orient-left'):(this.picker.addClass('datepicker-orient-'+this.o.orientation.x),'right'===this.o.orientation.x&&(f-=e-u));var m,g=this.o.orientation.y;if('auto'===g&&(m=-r+h-a,g=0>m?'bottom':'top'),this.picker.addClass('datepicker-orient-'+g),'top'===g?h-=a+parseInt(this.picker.css('padding-top')):h+=c,this.o.rtl){var y=n-(f+u);this.picker.css({top:h,right:y,zIndex:l})}else this.picker.css({top:h,left:f,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),a=[],o=!1;return arguments.length?(t.each(arguments,t.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),a.push(t)},this)),o=!0):(a=this.isInput?this.element.val():this.element.data('date')||this.inputField.val(),a=a&&this.o.multidate?a.split(this.o.multidateSeparator):[a],delete this.element.data().date),a=t.map(a,t.proxy(function(e){return v.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),a=t.grep(a,t.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(a),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),o?(this.setValue(),this.element.change()):this.dates.length&&e+''!==this.dates+''&&o&&(this._trigger('changeDate'),this.element.change()),!this.dates.length&&e.length&&(this._trigger('clearDate'),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,a='<tr>';for(this.o.calendarWeeks&&(a+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)a+='<th class="dow',-1!==t.inArray(e,this.o.daysOfWeekDisabled)&&(a+=' disabled'),a+='">'+y[this.o.language].daysMin[e++%7]+'</th>';a+='</tr>',this.picker.find('.datepicker-days thead').append(a)}},fillMonths:function(){for(var e,t=this._utc_to_local(this.viewDate),a='',o=0;12>o;o++)e=t&&t.getMonth()===o?' focused':'',a+='<span class="month'+e+'">'+y[this.o.language].monthsShort[o]+'</span>';this.picker.find('.datepicker-months td').html(a)},setRange:function(e){e&&e.length?this.range=t.map(e,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(a){var o=[],r=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),s=n();return a.getUTCFullYear()<r||a.getUTCFullYear()===r&&a.getUTCMonth()<i?o.push('old'):(a.getUTCFullYear()>r||a.getUTCFullYear()===r&&a.getUTCMonth()>i)&&o.push('new'),this.focusDate&&a.valueOf()===this.focusDate.valueOf()&&o.push('focused'),this.o.todayHighlight&&e(a,s)&&o.push('today'),-1!==this.dates.contains(a)&&o.push('active'),this.dateWithinRange(a)||o.push('disabled'),this.dateIsDisabled(a)&&o.push('disabled','disabled-date'),-1!==t.inArray(a.getUTCDay(),this.o.daysOfWeekHighlighted)&&o.push('highlighted'),this.range&&(a>this.range[0]&&a<this.range[this.range.length-1]&&o.push('range'),-1!==t.inArray(a.valueOf(),this.range)&&o.push('selected'),a.valueOf()===this.range[0]&&o.push('range-start'),a.valueOf()===this.range[this.range.length-1]&&o.push('range-end')),o},_fill_yearsView:function(e,a,o,n,r,i,s){for(var d,p,c,u='',f=o/10,h=this.picker.find(e),m=l(n/o)*o,g=m+9*f,y=l(this.viewDate.getFullYear()/f)*f,v=t.map(this.dates,function(e){return l(e.getUTCFullYear()/f)*f}),w=m-f;w<=g+f;w+=f)d=[a],p=null,w==m-f?d.push('old'):w==g+f&&d.push('new'),-1!==t.inArray(w,v)&&d.push('active'),(w<r||w>i)&&d.push('disabled'),w==y&&d.push('focused'),s!==t.noop&&(c=s(new Date(w,0,1)),void 0===c?c={}:'boolean'==typeof c?c={enabled:c}:'string'==typeof c&&(c={classes:c}),!1===c.enabled&&d.push('disabled'),c.classes&&(d=d.concat(c.classes.split(/\s+/))),c.tooltip&&(p=c.tooltip)),u+='<span class="'+d.join(' ')+'"'+(p?' title="'+p+'"':'')+'>'+w+'</span>';h.find('.datepicker-switch').text(m+'-'+g),h.find('td').html(u)},fill:function(){var e,o,n=new Date(this.viewDate),r=n.getUTCFullYear(),i=n.getUTCMonth(),s=this.o.startDate===-Infinity?-Infinity:this.o.startDate.getUTCFullYear(),d=this.o.startDate===-Infinity?-Infinity:this.o.startDate.getUTCMonth(),l=this.o.endDate===Infinity?Infinity:this.o.endDate.getUTCFullYear(),p=this.o.endDate===Infinity?Infinity:this.o.endDate.getUTCMonth(),c=y[this.o.language].today||y.en.today||'',u=y[this.o.language].clear||y.en.clear||'',f=y[this.o.language].titleFormat||y.en.titleFormat;if(!(isNaN(r)||isNaN(i))){this.picker.find('.datepicker-days .datepicker-switch').text(v.formatDate(n,f,this.o.language)),this.picker.find('tfoot .today').text(c).css('display',!0===this.o.todayBtn||'linked'===this.o.todayBtn?'table-cell':'none'),this.picker.find('tfoot .clear').text(u).css('display',!0===this.o.clearBtn?'table-cell':'none'),this.picker.find('thead .datepicker-title').text(this.o.title).css('display','string'==typeof this.o.title&&''!==this.o.title?'table-cell':'none'),this.updateNavArrows(),this.fillMonths();var h=a(r,i,0),m=h.getUTCDate();h.setUTCDate(m-(h.getUTCDay()-this.o.weekStart+7)%7);var g=new Date(h);100>h.getUTCFullYear()&&g.setUTCFullYear(h.getUTCFullYear()),g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();for(var w,D,b=[];h.valueOf()<g;){if(w=h.getUTCDay(),w===this.o.weekStart&&(b.push('<tr>'),this.o.calendarWeeks)){var k=new Date(+h+864e5*((this.o.weekStart-w-7)%7)),C=new Date(+k+864e5*((11-k.getUTCDay())%7)),_=new Date(+(_=a(C.getUTCFullYear(),0,1))+864e5*((11-_.getUTCDay())%7)),S=(C-_)/864e5/7+1;b.push('<td class="cw">'+S+'</td>')}D=this.getClassNames(h),D.push('day');var x=h.getUTCDate();this.o.beforeShowDay!==t.noop&&(o=this.o.beforeShowDay(this._utc_to_local(h)),void 0===o?o={}:'boolean'==typeof o?o={enabled:o}:'string'==typeof o&&(o={classes:o}),!1===o.enabled&&D.push('disabled'),o.classes&&(D=D.concat(o.classes.split(/\s+/))),o.tooltip&&(e=o.tooltip),o.content&&(x=o.content)),D=t.isFunction(t.uniqueSort)?t.uniqueSort(D):t.unique(D),b.push('<td class="'+D.join(' ')+'"'+(e?' title="'+e+'"':'')+' data-date="'+h.getTime().toString()+'">'+x+'</td>'),e=null,w===this.o.weekEnd&&b.push('</tr>'),h.setUTCDate(h.getUTCDate()+1)}this.picker.find('.datepicker-days tbody').html(b.join(''));var T=y[this.o.language].monthsTitle||y.en.monthsTitle||'Months',E=this.picker.find('.datepicker-months').find('.datepicker-switch').text(2>this.o.maxViewMode?T:r).end().find('tbody span').removeClass('active');if(t.each(this.dates,function(e,t){t.getUTCFullYear()===r&&E.eq(t.getUTCMonth()).addClass('active')}),(r<s||r>l)&&E.addClass('disabled'),r===s&&E.slice(0,d).addClass('disabled'),r===l&&E.slice(p+1).addClass('disabled'),this.o.beforeShowMonth!==t.noop){var O=this;t.each(E,function(e,a){var o=new Date(r,e,1),n=O.o.beforeShowMonth(o);void 0===n?n={}:'boolean'==typeof n?n={enabled:n}:'string'==typeof n&&(n={classes:n}),!1!==n.enabled||t(a).hasClass('disabled')||t(a).addClass('disabled'),n.classes&&t(a).addClass(n.classes),n.tooltip&&t(a).prop('title',n.tooltip)})}this._fill_yearsView('.datepicker-years','year',10,r,s,l,this.o.beforeShowYear),this._fill_yearsView('.datepicker-decades','decade',100,r,s,l,this.o.beforeShowDecade),this._fill_yearsView('.datepicker-centuries','century',1e3,r,s,l,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e,t,a=new Date(this.viewDate),o=a.getUTCFullYear(),n=a.getUTCMonth(),r=this.o.startDate===-Infinity?-Infinity:this.o.startDate.getUTCFullYear(),i=this.o.startDate===-Infinity?-Infinity:this.o.startDate.getUTCMonth(),s=this.o.endDate===Infinity?Infinity:this.o.endDate.getUTCFullYear(),d=this.o.endDate===Infinity?Infinity:this.o.endDate.getUTCMonth(),p=1;switch(this.viewMode){case 0:e=o<=r&&n<=i,t=o>=s&&n>=d;break;case 4:p*=10;case 3:p*=10;case 2:p*=10;case 1:e=l(o/p)*p<=r,t=l(o/p)*p+p>=s;}this.picker.find('.prev').toggleClass('disabled',e),this.picker.find('.next').toggleClass('disabled',t)}},click:function(o){o.preventDefault(),o.stopPropagation();var e,r,i,s;e=t(o.target),e.hasClass('datepicker-switch')&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),e.hasClass('today')&&!e.hasClass('day')&&(this.setViewMode(0),this._setDate(n(),'linked'===this.o.todayBtn?null:'view')),e.hasClass('clear')&&this.clearDates(),!e.hasClass('disabled')&&(e.hasClass('month')||e.hasClass('year')||e.hasClass('decade')||e.hasClass('century'))&&(this.viewDate.setUTCDate(1),r=1,1===this.viewMode?(s=e.parent().find('span').index(e),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s)):(s=0,i=+e.text(),this.viewDate.setUTCFullYear(i)),this._trigger(v.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(a(i,s,r)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(':visible')&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(a){var e=t(a.currentTarget),o=e.data('date'),n=new Date(o);this.o.updateViewDate&&(n.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger('changeYear',this.viewDate),n.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger('changeMonth',this.viewDate)),this._setDate(n)},navArrowsClick:function(a){var e=t(a.currentTarget),o=e.hasClass('prev')?-1:1;0!==this.viewMode&&(o*=12*v.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,o),this._trigger(v.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1===t?!1===this.o.multidate?(this.dates.clear(),this.dates.push(e)):this.dates.push(e):(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(t),'number'==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&'date'!==t||this._toggle_multidate(e&&new Date(e)),(!t&&this.o.updateViewDate||'view'===t)&&(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&'view'===t||this._trigger('changeDate'),this.inputField.trigger('change'),this.o.autoclose&&(!t||'date'===t)&&this.hide()},moveDay:function(e,t){var a=new Date(e);return a.setUTCDate(e.getUTCDate()+t),a},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!r(e))return this.o.defaultViewDate;if(!t)return e;var a,o,n=new Date(e.valueOf()),s=n.getUTCDate(),d=n.getUTCMonth(),l=Math.abs(t);if(t=0<t?1:-1,1===l)o=-1===t?function(){return n.getUTCMonth()===d}:function(){return n.getUTCMonth()!==a},a=d+t,n.setUTCMonth(a),a=(a+12)%12;else{for(var p=0;p<l;p++)n=this.moveMonth(n,t);a=n.getUTCMonth(),n.setUTCDate(s),o=function(){return a!==n.getUTCMonth()}}for(;o();)n.setUTCDate(--s),n.setUTCMonth(a);return n},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,a){do{if(e=this[a](e,t),!this.dateWithinRange(e))return!1;a='moveDay'}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(e){return-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(a){return this.weekOfDateIsDisabled(a)||0<t.grep(this.o.datesDisabled,function(t){return e(a,t)}).length},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(t){if(!this.picker.is(':visible'))return void((40===t.keyCode||27===t.keyCode)&&(this.show(),t.stopPropagation()));var e,a,o=!1,n=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(a=this.moveAvailableDate(n,e,'moveYear'),a&&this._trigger('changeYear',this.viewDate)):t.shiftKey?(a=this.moveAvailableDate(n,e,'moveMonth'),a&&this._trigger('changeMonth',this.viewDate)):37===t.keyCode||39===t.keyCode?a=this.moveAvailableDate(n,e,'moveDay'):!this.weekOfDateIsDisabled(n)&&(a=this.moveAvailableDate(n,e,'moveWeek')):1===this.viewMode?((38===t.keyCode||40===t.keyCode)&&(e*=4),a=this.moveAvailableDate(n,e,'moveMonth')):2===this.viewMode&&((38===t.keyCode||40===t.keyCode)&&(e*=4),a=this.moveAvailableDate(n,e,'moveYear')),a&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;n=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(n),o=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(':visible')&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide();}o&&(this.dates.length?this._trigger('changeDate'):this._trigger('clearDate'),this.inputField.trigger('change'))},setViewMode:function(e){this.viewMode=e,this.picker.children('div').hide().filter('.datepicker-'+v.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger('changeViewMode',new Date(this.viewDate))}};var u=function(e,a){t.data(e,'datepicker',this),this.element=t(e),this.inputs=t.map(a.inputs,function(e){return e.jquery?e[0]:e}),delete a.inputs,this.keepEmptyValues=a.keepEmptyValues,delete a.keepEmptyValues,h.call(t(this.inputs),a).on('changeDate',t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t.data(e,'datepicker')}),this.updateDates()};u.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(e){return e.valueOf()});t.each(this.pickers,function(t,a){a.setRange(e)})},dateUpdated:function(a){if(!this.updating){this.updating=!0;var e=t.data(a.target,'datepicker');if(void 0!==e){var o=e.getUTCDate(),n=this.keepEmptyValues,r=t.inArray(a.target,this.inputs),i=r-1,s=r+1,d=this.inputs.length;if(-1!==r){if(t.each(this.pickers,function(t,a){a.getUTCDate()||a!==e&&n||a.setUTCDate(o)}),o<this.dates[i])for(;0<=i&&o<this.dates[i];)this.pickers[i--].setUTCDate(o);else if(o>this.dates[s])for(;s<d&&o>this.dates[s];)this.pickers[s++].setUTCDate(o);this.updateDates(),delete this.updating}}}},destroy:function(){t.map(this.pickers,function(e){e.destroy()}),t(this.inputs).off('changeDate',this.dateUpdated),delete this.element.data().datepicker},remove:o('destroy','Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead')};var f=t.fn.datepicker,h=function(e){var a=Array.apply(null,arguments);a.shift();var o;if(this.each(function(){var n=t(this),r=n.data('datepicker'),d='object'==typeof e&&e;if(!r){var l=i(this,'date'),p=t.extend({},m,l,d),f=s(p.language),h=t.extend({},m,f,l,d);n.hasClass('input-daterange')||h.inputs?(t.extend(h,{inputs:h.inputs||n.find('input').toArray()}),r=new u(this,h)):r=new c(this,h),n.data('datepicker',r)}'string'==typeof e&&'function'==typeof r[e]&&(o=r[e].apply(r,a))}),void 0===o||o instanceof c||o instanceof u)return this;if(1<this.length)throw new Error('Using only allowed for the collection of a single element ('+e+' function)');else return o};t.fn.datepicker=h;var m=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:'mm/dd/yyyy',keepEmptyValues:!1,keyboardNavigation:!0,language:'en',minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:',',orientation:'auto',rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:'body',immediateUpdates:!1,title:'',templates:{leftArrow:'&#x00AB;',rightArrow:'&#x00BB;'},showWeekDays:!0},g=t.fn.datepicker.locale_opts=['format','rtl','weekStart'];t.fn.datepicker.Constructor=c;var y=t.fn.datepicker.dates={en:{days:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],daysShort:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],daysMin:['Su','Mo','Tu','We','Th','Fr','Sa'],months:['January','February','March','April','May','June','July','August','September','October','November','December'],monthsShort:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],today:'Today',clear:'Clear',titleFormat:'MM yyyy'}},v={viewModes:[{names:['days','month'],clsName:'days',e:'changeMonth'},{names:['months','year'],clsName:'months',e:'changeYear',navStep:1},{names:['years','decade'],clsName:'years',e:'changeDecade',navStep:10},{names:['decades','century'],clsName:'decades',e:'changeCentury',navStep:100},{names:['centuries','millennium'],clsName:'centuries',e:'changeMillennium',navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if('function'==typeof e.toValue&&'function'==typeof e.toDisplay)return e;var t=e.replace(this.validParts,'\0').split('\0'),a=e.match(this.validParts);if(!t||!t.length||!a||0===a.length)throw new Error('Invalid date format.');return{separators:t,parts:a}},parseDate:function(e,a,o,r){function l(e,t){return!0===t&&(t=10),100>e&&(e+=2e3,e>new Date().getFullYear()+t&&(e-=100)),e}function d(){var e=this.slice(0,u[h].length),t=u[h].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(e){if(e instanceof Date)return e;if('string'==typeof a&&(a=v.parseFormat(a)),a.toValue)return a.toValue(e,a,o);var u,p,f,h,i,m={d:'moveDay',m:'moveMonth',w:'moveWeek',y:'moveYear'},g={yesterday:'-1d',today:'+0d',tomorrow:'+1d'};if(e in g&&(e=g[e]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(e)){for(u=e.match(/([\-+]\d+)([dmwy])/gi),e=new Date,h=0;h<u.length;h++)p=u[h].match(/([\-+]\d+)([dmwy])/i),f=+p[1],i=m[p[2].toLowerCase()],e=c.prototype[i](e,f);return c.prototype._zero_utc_time(e)}u=e&&e.match(this.nonpunctuation)||[];var w,D,b={},k=['yyyy','yy','M','MM','m','mm','d','dd'],C={yyyy:function(e,t){return e.setUTCFullYear(r?l(t,r):t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};C.yy=C.yyyy,C.M=C.MM=C.mm=C.m,C.dd=C.d,e=n();var _=a.parts.slice();if(u.length!==_.length&&(_=t(_).filter(function(e,a){return-1!==t.inArray(a,k)}).toArray()),u.length===_.length){var S;for(h=0,S=_.length;h<S;h++)w=parseInt(u[h],10),p=_[h],isNaN(w)&&('MM'===p?(D=t(y[o].months).filter(d),w=t.inArray(D[0],y[o].months)+1):'M'===p?(D=t(y[o].monthsShort).filter(d),w=t.inArray(D[0],y[o].monthsShort)+1):void 0),b[p]=w;var x,T;for(h=0;h<k.length;h++)T=k[h],T in b&&!isNaN(b[T])&&(x=new Date(e),C[T](x,b[T]),!isNaN(x)&&(e=x))}return e}},formatDate:function(e,a,o){if(!e)return'';if('string'==typeof a&&(a=v.parseFormat(a)),a.toDisplay)return a.toDisplay(e,a,o);var n={d:e.getUTCDate(),D:y[o].daysShort[e.getUTCDay()],DD:y[o].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:y[o].monthsShort[e.getUTCMonth()],MM:y[o].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};n.dd=(10>n.d?'0':'')+n.d,n.mm=(10>n.m?'0':'')+n.m,e=[];for(var r=t.extend([],a.separators),s=0,i=a.parts.length;s<=i;s++)r.length&&e.push(r.shift()),e.push(n[a.parts[s]]);return e.join('')},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+m.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+m.templates.rightArrow+'</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+v.headTemplate+'<tbody></tbody>'+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div></div>',t.fn.datepicker.DPGlobal=v,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=f,this},t.fn.datepicker.version='1.7.1',t.fn.datepicker.deprecated=function(e){var t=window.console;t&&t.warn&&t.warn('DEPRECATED: '+e)},t(document).on('focus.datepicker.data-api click.datepicker.data-api','[data-provide="datepicker"]',function(a){var e=t(this);e.data('datepicker')||(a.preventDefault(),h.call(e,'show'))}),t(function(){h.call(t('[data-provide="datepicker-inline"]'))})}),!function(){function a(a){if(null===a||'object'!=typeof a)return a;var o=a.constructor();for(var t in a)a.hasOwnProperty(t)&&(o[t]=a[t]);return o}var o=Math.sqrt,s=Math.floor,d=function(t){var e=new d.Index;return e.pipeline.add(d.trimmer,d.stopWordFilter,d.stemmer),t&&t.call(e,e),e};d.version='0.9.5',lunr=d,d.utils={},d.utils.warn=function(a){return function(e){a.console&&console.warn&&console.warn(e)}}(this),d.utils.toString=function(t){return void 0===t||null===t?'':t.toString()},d.EventEmitter=function(){this.events={}},d.EventEmitter.prototype.addListener=function(){var a=Array.prototype.slice.call(arguments),o=a.pop();if('function'!=typeof o)throw new TypeError('last argument must be a function');a.forEach(function(t){this.hasHandler(t)||(this.events[t]=[]),this.events[t].push(o)},this)},d.EventEmitter.prototype.removeListener=function(a,e){if(this.hasHandler(a)){var t=this.events[a].indexOf(e);-1!==t&&(this.events[a].splice(t,1),0==this.events[a].length&&delete this.events[a])}},d.EventEmitter.prototype.emit=function(a){if(this.hasHandler(a)){var o=Array.prototype.slice.call(arguments,1);this.events[a].forEach(function(t){t.apply(void 0,o)},this)}},d.EventEmitter.prototype.hasHandler=function(t){return t in this.events},d.tokenizer=function(t){if(!arguments.length||null===t||void 0===t)return[];if(Array.isArray(t)){var e=t.filter(function(t){return null===t||void 0===t?!1:!0});e=e.map(function(t){return d.utils.toString(t).toLowerCase()});var a=[];return e.forEach(function(t){var e=t.split(d.tokenizer.seperator);a=a.concat(e)},this),a}return t.toString().trim().toLowerCase().split(d.tokenizer.seperator)},d.tokenizer.defaultSeperator=/[\s\-]+/,d.tokenizer.seperator=d.tokenizer.defaultSeperator,d.tokenizer.setSeperator=function(t){null!==t&&void 0!==t&&'object'==typeof t&&(d.tokenizer.seperator=t)},d.tokenizer.resetSeperator=function(){d.tokenizer.seperator=d.tokenizer.defaultSeperator},d.tokenizer.getSeperator=function(){return d.tokenizer.seperator},d.Pipeline=function(){this._queue=[]},d.Pipeline.registeredFunctions={},d.Pipeline.registerFunction=function(t,e){e in d.Pipeline.registeredFunctions&&d.utils.warn('Overwriting existing registered function: '+e),t.label=e,d.Pipeline.registeredFunctions[e]=t},d.Pipeline.getRegisteredFunction=function(t){return!0==t in d.Pipeline.registeredFunctions?d.Pipeline.registeredFunctions[t]:null},d.Pipeline.warnIfFunctionNotRegistered=function(t){var e=t.label&&t.label in this.registeredFunctions;e||d.utils.warn('Function is not registered with pipeline. This may cause problems when serialising the index.\n',t)},d.Pipeline.load=function(t){var a=new d.Pipeline;return t.forEach(function(t){var e=d.Pipeline.getRegisteredFunction(t);if(!e)throw new Error('Cannot load un-registered function: '+t);a.add(e)}),a},d.Pipeline.prototype.add=function(){var t=Array.prototype.slice.call(arguments);t.forEach(function(t){d.Pipeline.warnIfFunctionNotRegistered(t),this._queue.push(t)},this)},d.Pipeline.prototype.after=function(t,e){d.Pipeline.warnIfFunctionNotRegistered(e);var a=this._queue.indexOf(t);if(-1===a)throw new Error('Cannot find existingFn');this._queue.splice(a+1,0,e)},d.Pipeline.prototype.before=function(t,e){d.Pipeline.warnIfFunctionNotRegistered(e);var a=this._queue.indexOf(t);if(-1===a)throw new Error('Cannot find existingFn');this._queue.splice(a,0,e)},d.Pipeline.prototype.remove=function(a){var e=this._queue.indexOf(a);-1!==e&&this._queue.splice(e,1)},d.Pipeline.prototype.run=function(a){for(var e=[],t=a.length,n=this._queue.length,i=0;t>i;i++){for(var o=a[i],r=0;n>r&&(o=this._queue[r](o,i,a),void 0!==o&&null!==o);r++);void 0!==o&&null!==o&&e.push(o)}return e},d.Pipeline.prototype.reset=function(){this._queue=[]},d.Pipeline.prototype.get=function(){return this._queue},d.Pipeline.prototype.toJSON=function(){return this._queue.map(function(t){return d.Pipeline.warnIfFunctionNotRegistered(t),t.label})},d.Index=function(){this._fields=[],this._ref='id',this.pipeline=new d.Pipeline,this.documentStore=new d.DocumentStore,this.index={},this.eventEmitter=new d.EventEmitter,this._idfCache={},this.on('add','remove','update',function(){this._idfCache={}}.bind(this))},d.Index.prototype.on=function(){var t=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,t)},d.Index.prototype.off=function(a,e){return this.eventEmitter.removeListener(a,e)},d.Index.load=function(t){t.version!==d.version&&d.utils.warn('version mismatch: current '+d.version+' importing '+t.version);var e=new this;for(var a in e._fields=t.fields,e._ref=t.ref,e.documentStore=d.DocumentStore.load(t.documentStore),e.pipeline=d.Pipeline.load(t.pipeline),e.index={},t.index)e.index[a]=d.InvertedIndex.load(t.index[a]);return e},d.Index.prototype.addField=function(t){return this._fields.push(t),this.index[t]=new d.InvertedIndex,this},d.Index.prototype.setRef=function(t){return this._ref=t,this},d.Index.prototype.saveDocument=function(t){return this.documentStore=new d.DocumentStore(t),this},d.Index.prototype.addDoc=function(t,e){if(t){var e=!(void 0!==e)||e,a=t[this._ref];this.documentStore.addDoc(a,t),this._fields.forEach(function(e){var n=this.pipeline.run(d.tokenizer(t[e]));this.documentStore.addFieldLength(a,e,n.length);var l={};for(var r in n.forEach(function(t){t in l?l[t]+=1:l[t]=1},this),l){var s=l[r];s=o(s),this.index[e].addToken(r,{ref:a,tf:s})}},this),e&&this.eventEmitter.emit('add',t,this)}},d.Index.prototype.removeDocByRef=function(a){if(a&&!1!==this.documentStore.isDocStored()&&this.documentStore.hasDoc(a)){var e=this.documentStore.getDoc(a);this.removeDoc(e,!1)}},d.Index.prototype.removeDoc=function(t,e){if(t){var e=!(void 0!==e)||e,a=t[this._ref];this.documentStore.hasDoc(a)&&(this.documentStore.removeDoc(a),this._fields.forEach(function(r){var e=this.pipeline.run(d.tokenizer(t[r]));e.forEach(function(t){this.index[r].removeToken(t,a)},this)},this),e&&this.eventEmitter.emit('remove',t,this))}},d.Index.prototype.updateDoc=function(a,e){var e=!(void 0!==e)||e;this.removeDocByRef(a[this._ref],!1),this.addDoc(a,!1),e&&this.eventEmitter.emit('update',a,this)},d.Index.prototype.idf=function(a,e){var t='@'+e+'/'+a;if(Object.prototype.hasOwnProperty.call(this._idfCache,t))return this._idfCache[t];var n=this.index[e].getDocFreq(a),r=1+Math.log(this.documentStore.length/(n+1));return this._idfCache[t]=r,r},d.Index.prototype.getFields=function(){return this._fields.slice()},d.Index.prototype.search=function(t,m){if(!t)return[];t='string'==typeof t?{any:t}:JSON.parse(JSON.stringify(t));var n=null;null!=m&&(n=JSON.stringify(m));for(var i,a=new d.Configuration(n,this.getFields()).get(),o={},r=Object.keys(t),s=0;s<r.length;s++)i=r[s],o[i]=this.pipeline.run(d.tokenizer(t[i]));var u={};for(var l in a){var c=o[l]||o.any;if(c){var y=this.fieldSearch(c,l,a),f=a[l].boost;for(var h in y)y[h]*=f;for(var h in y)h in u?u[h]+=y[h]:u[h]=y[h]}}var w,v=[];for(var h in u)w={ref:h,score:u[h]},this.documentStore.hasDoc(h)&&(w.doc=this.documentStore.getDoc(h)),v.push(w);return v.sort(function(a,e){return e.score-a.score}),v},d.Index.prototype.fieldSearch=function(a,m,e){var t=e[m].bool,i=e[m].expand,n=e[m].boost,g=null,s={};return 0===n?void 0:(a.forEach(function(l){var e=[l];1==i&&(e=this.index[m].expandToken(l));var u={};e.forEach(function(e){var n=this.index[m].getDocs(e),r=this.idf(e,m);if(g&&'AND'==t){var a={};for(var i in g)i in n&&(a[i]=n[i]);n=a}for(var i in e==l&&this.fieldSearchStats(s,e,n),n){var c=this.index[m].getTermFrequency(e,i),d=this.documentStore.getFieldLength(i,m),f=1;0!=d&&(f=1/o(d));var h=1;e!=l&&(h=.15*(1-(e.length-l.length)/e.length));var p=c*r*f*h;i in u?u[i]+=p:u[i]=p}},this),g=this.mergeScores(g,u,t)},this),g=this.coordNorm(g,s,a.length))},d.Index.prototype.mergeScores=function(a,r,t){if(!a)return r;if('AND'==t){var n={};for(var i in r)i in a&&(n[i]=a[i]+r[i]);return n}for(var i in r)i in a?a[i]+=r[i]:a[i]=r[i];return a},d.Index.prototype.fieldSearchStats=function(a,e,t){for(var o in t)o in a?a[o].push(e):a[o]=[e]},d.Index.prototype.coordNorm=function(a,e,t){for(var n in a)if(n in e){var r=e[n].length;a[n]=a[n]*r/t}return a},d.Index.prototype.toJSON=function(){var a={};return this._fields.forEach(function(e){a[e]=this.index[e].toJSON()},this),{version:d.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),index:a,pipeline:this.pipeline.toJSON()}},d.Index.prototype.use=function(a){var e=Array.prototype.slice.call(arguments,1);e.unshift(this),a.apply(this,e)},d.DocumentStore=function(t){this._save=null===t||void 0===t||t,this.docs={},this.docInfo={},this.length=0},d.DocumentStore.load=function(a){var e=new this;return e.length=a.length,e.docs=a.docs,e.docInfo=a.docInfo,e._save=a.save,e},d.DocumentStore.prototype.isDocStored=function(){return this._save},d.DocumentStore.prototype.addDoc=function(e,t){this.hasDoc(e)||this.length++,this.docs[e]=!0===this._save?a(t):null},d.DocumentStore.prototype.getDoc=function(t){return!1===this.hasDoc(t)?null:this.docs[t]},d.DocumentStore.prototype.hasDoc=function(t){return t in this.docs},d.DocumentStore.prototype.removeDoc=function(t){this.hasDoc(t)&&(delete this.docs[t],delete this.docInfo[t],this.length--)},d.DocumentStore.prototype.addFieldLength=function(a,e,t){null!==a&&void 0!==a&&0!=this.hasDoc(a)&&(this.docInfo[a]||(this.docInfo[a]={}),this.docInfo[a][e]=t)},d.DocumentStore.prototype.updateFieldLength=function(a,e,t){null!==a&&void 0!==a&&0!=this.hasDoc(a)&&this.addFieldLength(a,e,t)},d.DocumentStore.prototype.getFieldLength=function(a,e){return null===a||void 0===a?0:a in this.docs&&e in this.docInfo[a]?this.docInfo[a][e]:0},d.DocumentStore.prototype.toJSON=function(){return{docs:this.docs,docInfo:this.docInfo,length:this.length,save:this._save}},d.stemmer=function(){var a={ational:'ate',tional:'tion',enci:'ence',anci:'ance',izer:'ize',bli:'ble',alli:'al',entli:'ent',eli:'e',ousli:'ous',ization:'ize',ation:'ate',ator:'ate',alism:'al',iveness:'ive',fulness:'ful',ousness:'ous',aliti:'al',iviti:'ive',biliti:'ble',logi:'log'},e={icate:'ic',ative:'',alize:'al',iciti:'ic',ical:'ic',ful:'',ness:''},t='[aeiouy]',n='[^aeiou]'+'[^aeiouy]*',o=t+'[aeiou]*',r=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,c=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,d=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,f=/^([^aeiou][^aeiouy]*)?[aeiouy]/,h=/^(.+?)(ss|i)es$/,p=/^(.+?)([^s])s$/,v=/^(.+?)eed$/,g=/^(.+?)(ed|ing)$/,m=/.$/,y=/(at|bl|iz)$/,C=/([^aeiouylsz])\1$/,S=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,w=/^(.+?[^aeiou])y$/,x=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,b=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,T=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,D=/^(.+?)(s|t)(ion)$/,E=/^(.+?)e$/,_=/ll$/,l=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/;return function(t){var n,i,o,k,s,u,O;if(3>t.length)return t;if(o=t.substr(0,1),'y'==o&&(t=o.toUpperCase()+t.substr(1)),k=h,s=p,k.test(t)?t=t.replace(k,'$1$2'):s.test(t)&&(t=t.replace(s,'$1$2')),k=v,s=g,k.test(t)){var M=k.exec(t);k=r,k.test(M[1])&&(k=m,t=t.replace(k,''))}else if(s.test(t)){var M=s.exec(t);n=M[1],s=f,s.test(n)&&(t=n,s=y,u=C,O=S,s.test(t)?t+='e':u.test(t)?(k=m,t=t.replace(k,'')):O.test(t)&&(t+='e'))}if(k=w,k.test(t)){var M=k.exec(t);n=M[1],t=n+'i'}if(k=x,k.test(t)){var M=k.exec(t);n=M[1],i=M[2],k=r,k.test(n)&&(t=n+a[i])}if(k=b,k.test(t)){var M=k.exec(t);n=M[1],i=M[2],k=r,k.test(n)&&(t=n+e[i])}if(k=T,s=D,k.test(t)){var M=k.exec(t);n=M[1],k=c,k.test(n)&&(t=n)}else if(s.test(t)){var M=s.exec(t);n=M[1]+M[2],s=c,s.test(n)&&(t=n)}if(k=E,k.test(t)){var M=k.exec(t);n=M[1],k=c,s=d,u=l,(k.test(n)||s.test(n)&&!u.test(n))&&(t=n)}return k=_,s=c,k.test(t)&&s.test(t)&&(k=m,t=t.replace(k,'')),'y'==o&&(t=o.toLowerCase()+t.substr(1)),t}}(),d.Pipeline.registerFunction(d.stemmer,'stemmer'),d.stopWordFilter=function(t){return t&&!0!==d.stopWordFilter.stopWords[t]?t:void 0},d.clearStopWords=function(){d.stopWordFilter.stopWords={}},d.addStopWords=function(t){null!=t&&!1!==Array.isArray(t)&&t.forEach(function(t){d.stopWordFilter.stopWords[t]=!0},this)},d.resetStopWords=function(){d.stopWordFilter.stopWords=d.defaultStopWords},d.defaultStopWords={"":!0,a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,do:!0,does:!0,either:!0,else:!0,ever:!0,every:!0,for:!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,if:!0,in:!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,this:!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,while:!0,who:!0,whom:!0,why:!0,will:!0,with:!0,would:!0,yet:!0,you:!0,your:!0},d.stopWordFilter.stopWords=d.defaultStopWords,d.Pipeline.registerFunction(d.stopWordFilter,'stopWordFilter'),d.trimmer=function(t){if(null===t||void 0===t)throw new Error('token should not be undefined');return t.replace(/^\W+/,'').replace(/\W+$/,'')},d.Pipeline.registerFunction(d.trimmer,'trimmer'),d.InvertedIndex=function(){this.root={docs:{},df:0}},d.InvertedIndex.load=function(a){var e=new this;return e.root=a.root,e},d.InvertedIndex.prototype.addToken=function(a,e,t){for(var n,t=t||this.root,o=0;o<=a.length-1;)n=a[o],n in t||(t[n]={docs:{},df:0}),o+=1,t=t[n];var i=e.ref;t.docs[i]?t.docs[i]={tf:e.tf}:(t.docs[i]={tf:e.tf},t.df+=1)},d.InvertedIndex.prototype.hasToken=function(a){if(!a)return!1;for(var o=this.root,t=0;t<a.length;t++){if(!o[a[t]])return!1;o=o[a[t]]}return!0},d.InvertedIndex.prototype.getNode=function(a){if(!a)return null;for(var o=this.root,t=0;t<a.length;t++){if(!o[a[t]])return null;o=o[a[t]]}return o},d.InvertedIndex.prototype.getDocs=function(a){var e=this.getNode(a);return null==e?{}:e.docs},d.InvertedIndex.prototype.getTermFrequency=function(a,e){var t=this.getNode(a);return null==t?0:e in t.docs?t.docs[e].tf:0},d.InvertedIndex.prototype.getDocFreq=function(a){var e=this.getNode(a);return null==e?0:e.df},d.InvertedIndex.prototype.removeToken=function(a,e){if(a){var t=this.getNode(a);null!=t&&e in t.docs&&(delete t.docs[e],t.df-=1)}},d.InvertedIndex.prototype.expandToken=function(a,e,t){if(null==a||''==a)return[];var e=e||[];if(void 0==t&&(t=this.getNode(a),null==t))return e;for(var o in 0<t.df&&e.push(a),t)'docs'!==o&&'df'!==o&&this.expandToken(a+o,e,t[o]);return e},d.InvertedIndex.prototype.toJSON=function(){return{root:this.root}},d.Configuration=function(t,e){var t=t||'';if(void 0==e||null==e)throw new Error('fields should not be null');this.config={};var a;try{a=JSON.parse(t),this.buildUserConfig(a,e)}catch(t){d.utils.warn('user configuration parse failed, will use default configuration'),this.buildDefaultConfig(e)}},d.Configuration.prototype.buildDefaultConfig=function(t){this.reset(),t.forEach(function(t){this.config[t]={boost:1,bool:'OR',expand:!1}},this)},d.Configuration.prototype.buildUserConfig=function(t,e){var a='OR',n=!1;if(this.reset(),'bool'in t&&(a=t.bool||a),'expand'in t&&(n=t.expand||n),'fields'in t){for(var o in t.fields)if(-1<e.indexOf(o)){var r=t.fields[o],i=n;void 0!=r.expand&&(i=r.expand),this.config[o]={boost:r.boost||0===r.boost?r.boost:1,bool:r.bool||a,expand:i}}else d.utils.warn('field name in user configuration not found in index instance fields');}else this.addAllFields2UserConfig(a,n,e)},d.Configuration.prototype.addAllFields2UserConfig=function(a,o,r){r.forEach(function(r){this.config[r]={boost:1,bool:a,expand:o}},this)},d.Configuration.prototype.get=function(){return this.config},d.Configuration.prototype.reset=function(){this.config={}},lunr.SortedSet=function(){this.length=0,this.elements=[]},lunr.SortedSet.load=function(a){var e=new this;return e.elements=a,e.length=a.length,e},lunr.SortedSet.prototype.add=function(){var a,e;for(a=0;a<arguments.length;a++)e=arguments[a],~this.indexOf(e)||this.elements.splice(this.locationFor(e),0,e);this.length=this.elements.length},lunr.SortedSet.prototype.toArray=function(){return this.elements.slice()},lunr.SortedSet.prototype.map=function(a,e){return this.elements.map(a,e)},lunr.SortedSet.prototype.forEach=function(a,e){return this.elements.forEach(a,e)},lunr.SortedSet.prototype.indexOf=function(a){for(var e=0,t=this.elements.length,n=t-e,i=e+s(n/2),o=this.elements[i];1<n;){if(o===a)return i;a>o&&(e=i),o>a&&(t=i),n=t-e,i=e+s(n/2),o=this.elements[i]}return o===a?i:-1},lunr.SortedSet.prototype.locationFor=function(a){for(var e=0,t=this.elements.length,n=t-e,i=e+s(n/2),o=this.elements[i];1<n;)a>o&&(e=i),o>a&&(t=i),n=t-e,i=e+s(n/2),o=this.elements[i];return o>a?i:a>o?i+1:void 0},lunr.SortedSet.prototype.intersect=function(a){for(var e=new lunr.SortedSet,t=0,n=0,i=this.length,o=a.length,r=this.elements,s=a.elements;;){if(t>i-1||n>o-1)break;r[t]===s[n]?(e.add(r[t]),t++,n++):r[t]<s[n]?t++:r[t]>s[n]&&n++}return e},lunr.SortedSet.prototype.clone=function(){var t=new lunr.SortedSet;return t.elements=this.toArray(),t.length=t.elements.length,t},lunr.SortedSet.prototype.union=function(a){var e,t,n;this.length>=a.length?(e=this,t=a):(e=a,t=this),n=e.clone();for(var i=0,o=t.toArray();i<o.length;i++)n.add(o[i]);return n},lunr.SortedSet.prototype.toJSON=function(){return this.toArray()},function(a,e){'function'==typeof define&&define.amd?define(e):'object'==typeof exports?module.exports=e():a.elasticlunr=e()}(this,function(){return d})}(),RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&')},function(){'use strict';var e;e='undefined'!=typeof jQuery&&jQuery?jQuery:{},e.csv={defaults:{separator:',',delimiter:'"',headers:!0},hooks:{castToScalar:function(e){var t=/\./;if(isNaN(e))return e;if(t.test(e))return parseFloat(e);var a=parseInt(e);return isNaN(a)?null:a}},parsers:{parse:function(e,t){function a(){if(d=0,l='',t.start&&t.state.rowNum<t.start)return s=[],t.state.rowNum++,void(t.state.colNum=1);if(void 0===t.onParseEntry)i.push(s);else{var e=t.onParseEntry(s,t.state);!1!==e&&i.push(e)}s=[],t.end&&t.state.rowNum>=t.end&&(p=!0),t.state.rowNum++,t.state.colNum=1}function o(){if(void 0===t.onParseValue)s.push(l);else{var e=t.onParseValue(l,t.state);!1!==e&&s.push(e)}l='',d=0,t.state.colNum++}var n=t.separator,r=t.delimiter;t.state.rowNum||(t.state.rowNum=1),t.state.colNum||(t.state.colNum=1);var i=[],s=[],d=0,l='',p=!1,c=RegExp.escape(n),u=RegExp.escape(r),f=/(D|S|\r\n|\n|\r|[^DS\r\n]+)/,h=f.source;return h=h.replace(/S/g,c),h=h.replace(/D/g,u),f=new RegExp(h,'gm'),e.replace(f,function(e){if(!p)switch(d){case 0:if(e===n){l+='',o();break}if(e===r){d=1;break}if(/^(\r\n|\n|\r)$/.test(e)){o(),a();break}l+=e,d=3;break;case 1:if(e===r){d=2;break}l+=e,d=1;break;case 2:if(e===r){l+=e,d=1;break}if(e===n){o();break}if(/^(\r\n|\n|\r)$/.test(e)){o(),a();break}throw new Error('CSVDataError: Illegal State [Row:'+t.state.rowNum+'][Col:'+t.state.colNum+']');case 3:if(e===n){o();break}if(/^(\r\n|\n|\r)$/.test(e)){o(),a();break}if(e===r)throw new Error('CSVDataError: Illegal Quote [Row:'+t.state.rowNum+'][Col:'+t.state.colNum+']');throw new Error('CSVDataError: Illegal Data [Row:'+t.state.rowNum+'][Col:'+t.state.colNum+']');default:throw new Error('CSVDataError: Unknown State [Row:'+t.state.rowNum+'][Col:'+t.state.colNum+']');}}),0!==s.length&&(o(),a()),i},splitLines:function(e,t){function a(){if(i=0,t.start&&t.state.rowNum<t.start)return s='',void t.state.rowNum++;if(void 0===t.onParseEntry)r.push(s);else{var e=t.onParseEntry(s,t.state);!1!==e&&r.push(e)}s='',t.end&&t.state.rowNum>=t.end&&(d=!0),t.state.rowNum++}var o=t.separator,n=t.delimiter;t.state.rowNum||(t.state.rowNum=1);var r=[],i=0,s='',d=!1,l=RegExp.escape(o),p=RegExp.escape(n),c=/(D|S|\n|\r|[^DS\r\n]+)/,u=c.source;return u=u.replace(/S/g,l),u=u.replace(/D/g,p),c=new RegExp(u,'gm'),e.replace(c,function(e){if(!d)switch(i){case 0:if(e===o){s+=e,i=0;break}if(e===n){s+=e,i=1;break}if('\n'===e){a();break}if(/^\r$/.test(e))break;s+=e,i=3;break;case 1:if(e===n){s+=e,i=2;break}s+=e,i=1;break;case 2:var r=s.substr(s.length-1);if(e===n&&r===n){s+=e,i=1;break}if(e===o){s+=e,i=0;break}if('\n'===e){a();break}if('\r'===e)break;throw new Error('CSVDataError: Illegal state [Row:'+t.state.rowNum+']');case 3:if(e===o){s+=e,i=0;break}if('\n'===e){a();break}if('\r'===e)break;if(e===n)throw new Error('CSVDataError: Illegal quote [Row:'+t.state.rowNum+']');throw new Error('CSVDataError: Illegal state [Row:'+t.state.rowNum+']');default:throw new Error('CSVDataError: Unknown state [Row:'+t.state.rowNum+']');}}),''!==s&&a(),r},parseEntry:function(e,t){function a(){if(void 0===t.onParseValue)r.push(s);else{var e=t.onParseValue(s,t.state);!1!==e&&r.push(e)}s='',i=0,t.state.colNum++}var o=t.separator,n=t.delimiter;t.state.rowNum||(t.state.rowNum=1),t.state.colNum||(t.state.colNum=1);var r=[],i=0,s='';if(!t.match){var d=RegExp.escape(o),l=RegExp.escape(n),p=/(D|S|\n|\r|[^DS\r\n]+)/,c=p.source;c=c.replace(/S/g,d),c=c.replace(/D/g,l),t.match=new RegExp(c,'gm')}return e.replace(t.match,function(e){switch(i){case 0:if(e===o){s+='',a();break}if(e===n){i=1;break}if('\n'===e||'\r'===e)break;s+=e,i=3;break;case 1:if(e===n){i=2;break}s+=e,i=1;break;case 2:if(e===n){s+=e,i=1;break}if(e===o){a();break}if('\n'===e||'\r'===e)break;throw new Error('CSVDataError: Illegal State [Row:'+t.state.rowNum+'][Col:'+t.state.colNum+']');case 3:if(e===o){a();break}if('\n'===e||'\r'===e)break;if(e===n)throw new Error('CSVDataError: Illegal Quote [Row:'+t.state.rowNum+'][Col:'+t.state.colNum+']');throw new Error('CSVDataError: Illegal Data [Row:'+t.state.rowNum+'][Col:'+t.state.colNum+']');default:throw new Error('CSVDataError: Unknown State [Row:'+t.state.rowNum+'][Col:'+t.state.colNum+']');}}),a(),r}},helpers:{collectPropertyNames:function(e){var t,a,o=[];for(t in e)for(a in e[t])e[t].hasOwnProperty(a)&&0>o.indexOf(a)&&'function'!=typeof e[t][a]&&o.push(a);return o}},toArray:function(t,a,o){a=a===void 0?{}:a;var n={callback:o!==void 0&&'function'==typeof o&&o,separator:'separator'in a?a.separator:e.csv.defaults.separator,delimiter:'delimiter'in a?a.delimiter:e.csv.defaults.delimiter},r=a.state===void 0?{}:a.state;a={delimiter:n.delimiter,separator:n.separator,onParseEntry:a.onParseEntry,onParseValue:a.onParseValue,state:r};var i=e.csv.parsers.parseEntry(t,a);return n.callback?void n.callback('',i):i},toArrays:function(t,a,o){a=void 0===a?{}:a;var n={callback:void 0!==o&&'function'==typeof o&&o,separator:'separator'in a?a.separator:e.csv.defaults.separator,delimiter:'delimiter'in a?a.delimiter:e.csv.defaults.delimiter},r=[];return a={delimiter:n.delimiter,separator:n.separator,onPreParse:a.onPreParse,onParseEntry:a.onParseEntry,onParseValue:a.onParseValue,onPostParse:a.onPostParse,start:a.start,end:a.end,state:{rowNum:1,colNum:1}},void 0!==a.onPreParse&&a.onPreParse(t,a.state),r=e.csv.parsers.parse(t,a),void 0!==a.onPostParse&&a.onPostParse(r,a.state),n.callback?void n.callback('',r):r},toObjects:function(t,a,o){a=void 0===a?{}:a;var n={};n.callback=void 0!==o&&'function'==typeof o&&o,n.separator='separator'in a?a.separator:e.csv.defaults.separator,n.delimiter='delimiter'in a?a.delimiter:e.csv.defaults.delimiter,n.headers='headers'in a?a.headers:e.csv.defaults.headers,a.start='start'in a?a.start:1,n.headers&&a.start++,a.end&&n.headers&&a.end++;var r=[],s=[];a={delimiter:n.delimiter,separator:n.separator,onPreParse:a.onPreParse,onParseEntry:a.onParseEntry,onParseValue:a.onParseValue,onPostParse:a.onPostParse,start:a.start,end:a.end,state:{rowNum:1,colNum:1},match:!1,transform:a.transform};var d={delimiter:n.delimiter,separator:n.separator,start:1,end:1,state:{rowNum:1,colNum:1}};void 0!==a.onPreParse&&a.onPreParse(t,a.state);var l=e.csv.parsers.splitLines(t,d),p=e.csv.toArray(l[0],a);r=e.csv.parsers.splitLines(t,a),a.state.colNum=1,a.state.rowNum=p?2:1;for(var c=0,i=r.length;c<i;c++){for(var u=e.csv.toArray(r[c],a),f={},h=0;h<p.length;h++)f[p[h]]=u[h];void 0===a.transform?s.push(f):s.push(a.transform.call(void 0,f)),a.state.rowNum++}return void 0!==a.onPostParse&&a.onPostParse(s,a.state),n.callback?void n.callback('',s):s},fromArrays:function(t,a,o){a=a===void 0?{}:a;var n,r,s,i,d={callback:o!==void 0&&'function'==typeof o&&o,separator:'separator'in a?a.separator:e.csv.defaults.separator,delimiter:'delimiter'in a?a.delimiter:e.csv.defaults.delimiter},l='';for(s=0;s<t.length;s++){for(n=t[s],r=[],i=0;i<n.length;i++){var p=n[i]===void 0||null===n[i]?'':n[i].toString();-1<p.indexOf(d.delimiter)&&(p=p.replace(new RegExp(d.delimiter,'g'),d.delimiter+d.delimiter));var c='\n|\r|S|D';c=c.replace('S',d.separator),c=c.replace('D',d.delimiter),-1<p.search(c)&&(p=d.delimiter+p+d.delimiter),r.push(p)}l+=r.join(d.separator)+'\r\n'}return d.callback?void d.callback('',l):l},fromObjects:function(t,a,n){a=void 0===a?{}:a;var r={};if(r.callback=void 0!==n&&'function'==typeof n&&n,r.separator='separator'in a?a.separator:e.csv.defaults.separator,r.delimiter='delimiter'in a?a.delimiter:e.csv.defaults.delimiter,r.headers='headers'in a?a.headers:e.csv.defaults.headers,r.sortOrder='sortOrder'in a?a.sortOrder:'declare',r.manualOrder='manualOrder'in a?a.manualOrder:[],r.transform=a.transform,'string'==typeof r.manualOrder&&(r.manualOrder=e.csv.toArray(r.manualOrder,r)),void 0!==r.transform){var s=t;t=[];var d;for(d=0;d<s.length;d++)t.push(r.transform.call(void 0,s[d]))}var i=e.csv.helpers.collectPropertyNames(t);if('alpha'===r.sortOrder&&i.sort(),0<r.manualOrder.length){var l,p=[].concat(r.manualOrder);for(l=0;l<i.length;l++)0>p.indexOf(i[l])&&p.push(i[l]);i=p}var c,l,o,u,f=[];for(r.headers&&f.push(i),c=0;c<t.length;c++){for(o=[],l=0;l<i.length;l++)u=i[l],u in t[c]&&'function'!=typeof t[c][u]?o.push(t[c][u]):o.push('');f.push(o)}return e.csv.fromArrays(f,a,r.callback)}},e.csvEntry2Array=e.csv.toArray,e.csv2Array=e.csv.toArrays,e.csv2Dictionary=e.csv.toObjects,'undefined'!=typeof module&&module.exports&&(module.exports=e.csv)}.call(this);var search,results,format,header,collapse,collapseAggregation,startDate,endDate,selectedTheme,selectedSource,selectedSeries=[],allSeries=[],filteredSeries=[],representationMode='',selectedFrequency='',frequencyTranslation={"R/P1Y":'Anual',"R/P3M":'Trimestral',"R/P1M":'Mensual',"R/P1W":'Semanal',"R/P1D":'Diaria'};function updateApiUrl(){apiUrl='http://apis.datos.gob.ar/series/api/series?ids='+selectedSeries.join(','),format&&(apiUrl=apiUrl+'&format='+format),header&&(apiUrl=apiUrl+'&header='+header),collapse&&(apiUrl=apiUrl+'&collapse='+collapse),collapseAggregation&&(apiUrl=apiUrl+'&collapse_aggregation='+collapseAggregation),representationMode&&(apiUrl=apiUrl+'&representation_mode='+representationMode),startDate&&(apiUrl=apiUrl+'&start_date='+startDate),endDate&&(apiUrl=apiUrl+'&end_date='+endDate),console.log(apiUrl),$('#apiUrl').text(apiUrl),$('#apiUrl').attr('href',apiUrl)}var indexStrategySelect=document.getElementById('indexStrategySelect'),removeStopWordsCheckbox=document.getElementById('removeStopWordsCheckbox'),indexOnserie_descripcionCheckbox=document.getElementById('indexOnserie_descripcionCheckbox'),useStemmingCheckbox=document.getElementById('useStemmingCheckbox'),sanitizerSelect=document.getElementById('sanitizerSelect'),tfIdfRankingCheckbox=document.getElementById('tfIdfRankingCheckbox'),rebuildAndRerunSearch=function(){rebuildSearchIndex(),searchSeries()};indexStrategySelect.onchange=rebuildAndRerunSearch,removeStopWordsCheckbox.onchange=rebuildAndRerunSearch,indexOnserie_descripcionCheckbox.onchange=rebuildAndRerunSearch,useStemmingCheckbox.onchange=rebuildAndRerunSearch,sanitizerSelect.onchange=rebuildAndRerunSearch,tfIdfRankingCheckbox.onchange=rebuildAndRerunSearch;var rebuildSearchIndex=function(){search=new JsSearch.Search('serie_id'),useStemmingCheckbox.checked&&(search.tokenizer=new JsSearch.StemmingTokenizer(stemmer,search.tokenizer)),removeStopWordsCheckbox.checked&&(search.tokenizer=new JsSearch.StopWordsTokenizer(search.tokenizer)),search.indexStrategy=eval('new '+indexStrategySelect.value+'()'),search.sanitizer=eval('new '+sanitizerSelect.value+'()');search.searchIndex=tfIdfRankingCheckbox.checked?new JsSearch.TfIdfSearchIndex('serie_id'):new JsSearch.UnorderedSearchIndex,indexOnserie_descripcionCheckbox.checked&&search.addIndex('serie_descripcion'),search.addDocuments(filteredSeries)},indexedSeriesTable=document.getElementById('indexedSeriesTable'),indexedSeriesTBody=indexedSeriesTable.tBodies[0],searchInput=document.getElementById('searchInput'),serieCountBadge=document.getElementById('serieCountBadge'),updateSeriesTable=function(e){indexedSeriesTBody.innerHTML='';for(var t=search.tokenizer.tokenize(searchInput.value),a=0,o=e.length;a<o;a++){var n=e[a],r=document.createElement('input');r.type='checkbox',r.name=n.serie_descripcion,r.value=!1,r.id=n.serie_id,$(r).change(function(){this.checked?selectedSeries.push(this.id):selectedSeries.remove(this.id),console.log(selectedSeries),updateApiUrl()});var i=document.createElement('td');i.innerText=n.serie_id;var s=document.createElement('td');s.innerHTML=n.serie_descripcion;var d=document.createElement('td');d.innerHTML=frequencyTranslation[n.indice_tiempo_frecuencia];var l=document.createElement('tr');l.appendChild(r),l.appendChild(i),l.appendChild(s),l.appendChild(d),indexedSeriesTBody.appendChild(l)}},updateSerieCountAndTable=function(){updateSerieCount(results.length),0<results.length?updateSeriesTable(results):!searchInput.value?(updateSerieCount(filteredSeries.length),updateSeriesTable(filteredSeries)):updateSeriesTable([])},searchSeries=function(){results=search.search(searchInput.value),updateSerieCountAndTable()};searchInput.oninput=searchSeries;var updateSerieCount=function(e){serieCountBadge.innerText=e+' series'},hideElement=function(e){e.className+=' hidden'},showElement=function(e){e.className=e.className.replace(/\s*hidden/,'')};Array.prototype.remove=function(e){var t=this.indexOf(e);return-1!=t&&this.splice(t,1)};function createParamFormat(){$('#apiParamFormatSelect').change(function(){format=$(this).val(),updateApiUrl()})}function createParamHeader(){$('#apiParamHeaderSelect').change(function(){header=$(this).val(),updateApiUrl()})}function createParamCollapse(){$('#apiParamCollapseSelect').change(function(){collapse=$(this).val(),updateApiUrl()})}function createParamCollapseAggregation(){$('#apiParamCollapseAggregationSelect').change(function(){collapseAggregation=$(this).val(),updateApiUrl()})}function createParamRepresentationMode(){$('#apiParamRepresentationModeSelect').change(function(){representationMode=$(this).val(),updateApiUrl()})}function createParamStartDate(){$('#apiParamStartDatePicker').change(function(){startDate=$(this).find('input').val(),updateApiUrl()})}function createParamEndDate(){$('#apiParamEndDatePicker').change(function(){endDate=$(this).find('input').val(),updateApiUrl()})}function createFilterTheme(e){console.log(e),$(e).each(function(){$('#seriesFilterThemeSelect').append($('<option>').attr('value',this).text(this))}),selectedTheme=e[0],$('#seriesFilterThemeSelect').change(function(){selectedTheme=$(this).val(),createFilterSource(),filterSeriesTable()})}function createFilterFrequency(e){$('#seriesFilterFrequencySelect').append($('<option>')),$.each(e,function(e,t){$('#seriesFilterFrequencySelect').append($('<option>').attr('value',e).text(t))}),$('#seriesFilterFrequencySelect').change(function(){selectedFrequency=$(this).val(),filterSeriesTable()})}function createFilterSource(){var e=[];$.each(allSeries,function(t,a){a.dataset_tema==selectedTheme&&-1===e.indexOf(a.dataset_fuente)&&e.push(a.dataset_fuente)}),console.log(e),$('#seriesFilterSourceSelect').empty(),$('#seriesFilterSourceSelect').append($('<option>')),$(e).each(function(){$('#seriesFilterSourceSelect').append($('<option>').attr('value',this).text(this))}),$('#seriesFilterSourceSelect').change(function(){selectedSource=$(this).val(),filterSeriesTable()})}function filter_function(e){return e.dataset_tema==selectedTheme&&(!selectedSource||e.dataset_fuente==selectedSource)&&(!selectedFrequency||e.indice_tiempo_frecuencia==selectedFrequency)}function filterSeriesTable(){filteredSeries=allSeries.filter(filter_function),updateSerieCount(filteredSeries.length);var e=document.getElementById('loadingProgressBar');hideElement(e),showElement(indexedSeriesTable),rebuildSearchIndex(),updateSeriesTable(filteredSeries)}$(function(){updateApiUrl(),$('.datepicker').datepicker({format:'yyyy-mm-dd',startDate:''}),createParamFormat(),createParamHeader(),createParamCollapse(),createParamCollapseAggregation(),createParamRepresentationMode(),createParamStartDate(),createParamEndDate();$.ajax({type:'GET',url:'./public/data/series-tiempo-metadatos.csv',dataType:'text',success:function(e){allSeries=$.csv.toObjects(e);var t=[];$.each(allSeries,function(e,a){-1===t.indexOf(a.dataset_tema)&&t.push(a.dataset_tema)}),createFilterTheme(t),createFilterSource(),createFilterFrequency(frequencyTranslation),filterSeriesTable()}})}),function(a,e){'object'==typeof exports&&'undefined'!=typeof module?module.exports=e():'function'==typeof define&&define.amd?define(e):a.Popper=e()}(this,function(){'use strict';function G(t){return t&&'[object Function]'==={}.toString.call(t)}function ce(a,e){if(1!==a.nodeType)return[];var n=getComputedStyle(a,null);return e?n[e]:n}function ue(t){return'HTML'===t.nodeName?t:t.parentNode||t.host}function he(t){if(!t)return document.body;switch(t.nodeName){case'HTML':case'BODY':return t.ownerDocument.body;case'#document':return t.body;}var a=ce(t),o=a.overflow,n=a.overflowX,r=a.overflowY;return /(auto|scroll)/.test(o+r+n)?t:he(ue(t))}function me(t){var e=t&&t.offsetParent,a=e&&e.nodeName;return a&&'BODY'!==a&&'HTML'!==a?-1!==['TD','TABLE'].indexOf(e.nodeName)&&'static'===ce(e,'position')?me(e):e:t?t.ownerDocument.documentElement:document.documentElement}function r(a){var e=a.nodeName;return'BODY'!==e&&('HTML'===e||me(a.firstElementChild)===a)}function p(t){return null===t.parentNode?t:p(t.parentNode)}function ge(s,d){if(!s||!s.nodeType||!d||!d.nodeType)return document.documentElement;var c=s.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_FOLLOWING,o=c?s:d,i=c?d:s,n=document.createRange();n.setStart(o,0),n.setEnd(i,0);var a=n.commonAncestorContainer;if(s!==a&&d!==a||o.contains(i))return r(a)?a:me(a);var l=p(s);return l.host?ge(l.host,d):ge(s,p(d).host)}function d(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'top',t='top'===e?'scrollTop':'scrollLeft',o=a.nodeName;if('BODY'===o||'HTML'===o){var i=a.ownerDocument.documentElement,n=a.ownerDocument.scrollingElement||i;return n[t]}return a[t]}function t(a,e){var t=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=d(e,'top'),i=d(e,'left'),n=t?-1:1;return a.top+=o*n,a.bottom+=o*n,a.left+=i*n,a.right+=i*n,a}function a(a,e){var t='x'===e?'Left':'Top',o='Left'==t?'Right':'Bottom';return parseFloat(a['border'+t+'Width'],10)+parseFloat(a['border'+o+'Width'],10)}function n(a,e,t,o){return Y(e['offset'+a],e['scroll'+a],t['client'+a],t['offset'+a],t['scroll'+a],J()?t['offset'+a]+o['margin'+('Height'===a?'Top':'Left')]+o['margin'+('Height'===a?'Bottom':'Right')]:0)}function ye(){var a=document.body,e=document.documentElement,t=J()&&getComputedStyle(e);return{height:n('Height',a,e,t),width:n('Width',a,e,t)}}function ve(t){return Z({},t,{right:t.left+t.width,bottom:t.top+t.height})}function we(t){var e={};if(J())try{e=t.getBoundingClientRect();var o=d(t,'top'),i=d(t,'left');e.top+=o,e.left+=i,e.bottom+=o,e.right+=i}catch(t){}else e=t.getBoundingClientRect();var n={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r='HTML'===t.nodeName?ye():{},p=r.width||t.clientWidth||n.right-n.left,s=r.height||t.clientHeight||n.bottom-n.top,c=t.offsetWidth-p,l=t.offsetHeight-s;if(c||l){var u=ce(t);c-=a(u,'x'),l-=a(u,'y'),n.width-=c,n.height-=l}return ve(n)}function h(n,e){var o=J(),l='HTML'===e.nodeName,r=we(n),p=we(e),s=he(n),d=ce(e),a=parseFloat(d.borderTopWidth,10),c=parseFloat(d.borderLeftWidth,10),f=ve({top:r.top-p.top-a,left:r.left-p.left-c,width:r.width,height:r.height});if(f.marginTop=0,f.marginLeft=0,!o&&l){var h=parseFloat(d.marginTop,10),m=parseFloat(d.marginLeft,10);f.top-=a-h,f.bottom-=a-h,f.left-=c-m,f.right-=c-m,f.marginTop=h,f.marginLeft=m}return(o?e.contains(s):e===s&&'BODY'!==s.nodeName)&&(f=t(f,e)),f}function o(a){var e=a.ownerDocument.documentElement,t=h(a,e),o=Y(e.clientWidth,window.innerWidth||0),l=Y(e.clientHeight,window.innerHeight||0),c=d(e),r=d(e,'left'),p={top:c-t.top+t.marginTop,left:r-t.left+t.marginLeft,width:o,height:l};return ve(p)}function u(t){var e=t.nodeName;return'BODY'===e||'HTML'===e?!1:'fixed'===ce(t,'position')||u(ue(t))}function c(n,e,t,i){var r={top:0,left:0},d=ge(n,e);if('viewport'===i)r=o(d);else{var s;'scrollParent'===i?(s=he(ue(e)),'BODY'===s.nodeName&&(s=n.ownerDocument.documentElement)):'window'===i?s=n.ownerDocument.documentElement:s=i;var a=h(s,d);if('HTML'===s.nodeName&&!u(d)){var l=ye(),p=l.height,f=l.width;r.top+=a.top-a.marginTop,r.bottom=p+a.top,r.left+=a.left-a.marginLeft,r.right=f+a.left}else r=a}return r.left+=t,r.top+=t,r.right-=t,r.bottom-=t,r}function l(a){var e=a.width,t=a.height;return e*t}function s(u,e,h,t,o){var n=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===u.indexOf('auto'))return u;var r=c(h,t,n,o),i={top:{width:r.width,height:e.top-r.top},right:{width:r.right-e.right,height:r.height},bottom:{width:r.width,height:r.bottom-e.bottom},left:{width:e.left-r.left,height:r.height}},s=Object.keys(i).map(function(t){return Z({key:t},i[t],{area:l(i[t])})}).sort(function(a,e){return e.area-a.area}),d=s.filter(function(a){var e=a.width,t=a.height;return e>=h.clientWidth&&t>=h.clientHeight}),a=0<d.length?d[0].key:s[0].key,p=u.split('-')[1];return a+(p?'-'+p:'')}function f(a,e,t){var o=ge(e,t);return h(t,o)}function O(a){var e=getComputedStyle(a),t=parseFloat(e.marginTop)+parseFloat(e.marginBottom),o=parseFloat(e.marginLeft)+parseFloat(e.marginRight),r={width:a.offsetWidth+o,height:a.offsetHeight+t};return r}function v(a){var o={left:'right',right:'left',bottom:'top',top:'bottom'};return a.replace(/left|right|bottom|top/g,function(t){return o[t]})}function x(l,e,t){t=t.split('-')[0];var o=O(l),i={width:o.width,height:o.height},n=-1!==['right','left'].indexOf(t),r=n?'top':'left',p=n?'left':'top',s=n?'height':'width',d=n?'width':'height';return i[r]=e[r]+e[s]/2-o[s]/2,i[p]=t===p?e[p]-o[d]:e[v(p)],i}function g(a,e){return Array.prototype.find?a.find(e):a.filter(e)[0]}function e(a,n,t){if(Array.prototype.findIndex)return a.findIndex(function(a){return a[n]===t});var e=g(a,function(a){return a[n]===t});return a.indexOf(e)}function D(a,r,t){var o=void 0===t?a:a.slice(0,e(a,'name',t));return o.forEach(function(e){e['function']&&console.warn('`modifier.function` is deprecated, use `modifier.fn`!');var t=e['function']||e.fn;e.enabled&&G(t)&&(r.offsets.popper=ve(r.offsets.popper),r.offsets.reference=ve(r.offsets.reference),r=t(r,e))}),r}function m(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=f(this.state,this.popper,this.reference),t.placement=s(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.offsets.popper=x(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position='absolute',t=D(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function y(a,n){return a.some(function(t){var e=t.name,a=t.enabled;return a&&e===n})}function k(a){for(var e=[!1,'ms','Webkit','Moz','O'],t=a.charAt(0).toUpperCase()+a.slice(1),o=0;o<e.length-1;o++){var n=e[o],i=n?''+n+t:a;if('undefined'!=typeof document.body.style[i])return i}return null}function w(){return this.state.isDestroyed=!0,y(this.modifiers,'applyStyle')&&(this.popper.removeAttribute('x-placement'),this.popper.style.left='',this.popper.style.position='',this.popper.style.top='',this.popper.style[k('transform')]=''),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function b(a){var e=a.ownerDocument;return e?e.defaultView:window}function C(a,e,t,o){var n='BODY'===a.nodeName,r=n?a.ownerDocument.defaultView:a;r.addEventListener(e,t,{passive:!0}),n||C(he(r.parentNode),e,t,o),o.push(r)}function S(a,e,t,o){t.updateBound=o,b(a).addEventListener('resize',t.updateBound,{passive:!0});var n=he(a);return C(n,'scroll',t.updateBound,t.scrollParents),t.scrollElement=n,t.eventsEnabled=!0,t}function T(){this.state.eventsEnabled||(this.state=S(this.reference,this.options,this.state,this.scheduleUpdate))}function E(a,o){return b(a).removeEventListener('resize',o.updateBound),o.scrollParents.forEach(function(t){t.removeEventListener('scroll',o.updateBound)}),o.updateBound=null,o.scrollParents=[],o.scrollElement=null,o.eventsEnabled=!1,o}function M(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=E(this.reference,this.state))}function N(t){return''!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function P(a,e){Object.keys(e).forEach(function(t){var o='';-1!==['width','height','top','right','bottom','left'].indexOf(t)&&N(e[t])&&(o='px'),a.style[t]=e[t]+o})}function I(a,e){Object.keys(e).forEach(function(t){var o=e[t];!1===o?a.removeAttribute(t):a.setAttribute(t,e[t])})}function U(a,s,t){var o=g(a,function(t){var e=t.name;return e===s}),e=!!o&&a.some(function(a){return a.name===t&&a.enabled&&a.order<o.order});if(!e){var d='`'+s+'`';console.warn('`'+t+'` modifier is required by '+d+' modifier in order to work, be sure to include it before '+d+'!')}return e}function F(t){return'end'===t?'start':'start'===t?'end':t}function A(a){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=te.indexOf(a),o=te.slice(t+1).concat(te.slice(0,t));return e?o.reverse():o}function W(l,e,t,o){var i=l.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),n=+i[1],c=i[2];if(!n)return l;if(0===c.indexOf('%')){var p;switch(c){case'%p':p=t;break;case'%':case'%r':default:p=o;}var s=ve(p);return s[e]/100*n}if('vh'===c||'vw'===c){var d;return d='vh'===c?Y(document.documentElement.clientHeight,window.innerHeight||0):Y(document.documentElement.clientWidth,window.innerWidth||0),d/100*n}return n}function V(l,c,t,e){var u=[0,0],o=-1!==['right','left'].indexOf(e),n=l.split(/(\+|\-)/).map(function(t){return t.trim()}),i=n.indexOf(g(n,function(t){return-1!==t.search(/,|\s/)}));n[i]&&-1===n[i].indexOf(',')&&console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');var s=/\s*,\s*|\s+/,d=-1===i?[n]:[n.slice(0,i).concat([n[i].split(s)[0]]),[n[i].split(s)[1]].concat(n.slice(i+1))];return d=d.map(function(a,e){var i=(1===e?!o:o)?'height':'width',n=!1;return a.reduce(function(a,e){return''===a[a.length-1]&&-1!==['+','-'].indexOf(e)?(a[a.length-1]=e,n=!0,a):n?(a[a.length-1]+=e,n=!1,a):a.concat(e)},[]).map(function(a){return W(a,i,c,t)})}),d.forEach(function(a,e){a.forEach(function(t,o){N(t)&&(u[e]+=t*('-'===a[o-1]?-1:1))})}),u}for(var L=Math.min,_=Math.floor,Y=Math.max,R='undefined'!=typeof window&&'undefined'!=typeof document,z=['Edge','Trident','Firefox'],B=0,H=0;H<z.length;H+=1)if(R&&0<=navigator.userAgent.indexOf(z[H])){B=1;break}var j,i=R&&window.Promise,q=i?function(a){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,a()}))}}:function(a){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,a()},B))}},J=function(){return void 0==j&&(j=-1!==navigator.appVersion.indexOf('MSIE 10')),j},K=function(a,e){if(!(a instanceof e))throw new TypeError('Cannot call a class as a function')},Q=function(){function a(a,r){for(var t,o=0;o<r.length;o++)t=r[o],t.enumerable=t.enumerable||!1,t.configurable=!0,'value'in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}return function(e,t,o){return t&&a(e.prototype,t),o&&a(e,o),e}}(),X=function(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a},Z=Object.assign||function(a){for(var e,t=1;t<arguments.length;t++)for(var o in e=arguments[t],e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o]);return a},ee=['auto-start','auto','auto-end','top-start','top','top-end','right-start','right','right-end','bottom-end','bottom','bottom-start','left-end','left','left-start'],te=ee.slice(3),ae={FLIP:'flip',CLOCKWISE:'clockwise',COUNTERCLOCKWISE:'counterclockwise'},oe=function(){function a(e,t){var o=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};K(this,a),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=q(this.update.bind(this)),this.options=Z({},a.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(Z({},a.Defaults.modifiers,n.modifiers)).forEach(function(t){o.options.modifiers[t]=Z({},a.Defaults.modifiers[t]||{},n.modifiers?n.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return Z({name:t},o.options.modifiers[t])}).sort(function(a,e){return a.order-e.order}),this.modifiers.forEach(function(e){e.enabled&&G(e.onLoad)&&e.onLoad(o.reference,o.popper,o.options,e,o.state)}),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}return Q(a,[{key:'update',value:function(){return m.call(this)}},{key:'destroy',value:function(){return w.call(this)}},{key:'enableEventListeners',value:function(){return T.call(this)}},{key:'disableEventListeners',value:function(){return M.call(this)}}]),a}();return oe.Utils=('undefined'==typeof window?global:window).PopperUtils,oe.placements=ee,oe.Defaults={placement:'bottom',eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(c){var e=c.placement,t=e.split('-')[0],o=e.split('-')[1];if(o){var i=c.offsets,n=i.reference,r=i.popper,p=-1!==['bottom','top'].indexOf(t),s=p?'left':'top',d=p?'width':'height',a={start:X({},s,n[s]),end:X({},s,n[s]+n[d]-r[d])};c.offsets.popper=Z({},r,a[o])}return c}},offset:{order:200,enabled:!0,fn:function(a,e){var t,o=e.offset,l=a.placement,n=a.offsets,r=n.popper,p=n.reference,s=l.split('-')[0];return t=N(+o)?[+o,0]:V(o,r,p,s),'left'===s?(r.top+=t[0],r.left-=t[1]):'right'===s?(r.top+=t[0],r.left+=t[1]):'top'===s?(r.left+=t[0],r.top-=t[1]):'bottom'===s&&(r.left+=t[0],r.top+=t[1]),a.popper=r,a},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(a,r){var e=r.boundariesElement||me(a.instance.popper);a.instance.reference===e&&(e=me(e));var t=c(a.instance.popper,a.instance.reference,r.padding,e);r.boundaries=t;var o=r.priority,i=a.offsets.popper,n={primary:function(a){var e=i[a];return i[a]<t[a]&&!r.escapeWithReference&&(e=Y(i[a],t[a])),X({},a,e)},secondary:function(a){var e='right'===a?'left':'top',o=i[e];return i[a]>t[a]&&!r.escapeWithReference&&(o=L(i[e],t[a]-('right'===a?i.width:i.height))),X({},e,o)}};return o.forEach(function(a){var e=-1===['left','top'].indexOf(a)?'secondary':'primary';i=Z({},i,n[e](a))}),a.offsets.popper=i,a},priority:['left','right','top','bottom'],padding:5,boundariesElement:'scrollParent'},keepTogether:{order:400,enabled:!0,fn:function(l){var e=l.offsets,t=e.popper,o=e.reference,i=l.placement.split('-')[0],n=_,r=-1!==['top','bottom'].indexOf(i),p=r?'right':'bottom',s=r?'left':'top',d=r?'width':'height';return t[p]<n(o[s])&&(l.offsets.popper[s]=n(o[s])-t[d]),t[s]>n(o[p])&&(l.offsets.popper[s]=n(o[p])),l}},arrow:{order:500,enabled:!0,fn:function(t,e){var o;if(!U(t.instance.modifiers,'arrow','keepTogether'))return t;var i=e.element;if('string'==typeof i){if(i=t.instance.popper.querySelector(i),!i)return t;}else if(!t.instance.popper.contains(i))return console.warn('WARNING: `arrow.element` must be child of its popper element!'),t;var c=t.placement.split('-')[0],r=t.offsets,p=r.popper,s=r.reference,d=-1!==['left','right'].indexOf(c),a=d?'height':'width',l=d?'Top':'Left',f=l.toLowerCase(),m=d?'left':'top',h=d?'bottom':'right',g=O(i)[a];s[h]-g<p[f]&&(t.offsets.popper[f]-=p[f]-(s[h]-g)),s[f]+g>p[h]&&(t.offsets.popper[f]+=s[f]+g-p[h]),t.offsets.popper=ve(t.offsets.popper);var u=s[f]+s[a]/2-g/2,D=ce(t.instance.popper),w=parseFloat(D['margin'+l],10),y=parseFloat(D['border'+l+'Width'],10),b=u-t.offsets.popper[f]-w-y;return b=Y(L(p[a]-g,b),0),t.arrowElement=i,t.offsets.arrow=(o={},X(o,f,Math.round(b)),X(o,m,''),o),t},element:'[x-arrow]'},flip:{order:600,enabled:!0,fn:function(k,e){if(y(k.instance.modifiers,'inner'))return k;if(k.flipped&&k.placement===k.originalPlacement)return k;var t=c(k.instance.popper,k.instance.reference,e.padding,e.boundariesElement),o=k.placement.split('-')[0],i=v(o),n=k.placement.split('-')[1]||'',r=[];switch(e.behavior){case ae.FLIP:r=[o,i];break;case ae.CLOCKWISE:r=A(o);break;case ae.COUNTERCLOCKWISE:r=A(o,!0);break;default:r=e.behavior;}return r.forEach(function(p,s){if(o!==p||r.length===s+1)return k;o=k.placement.split('-')[0],i=v(o);var d=k.offsets.popper,a=k.offsets.reference,l=_,f='left'===o&&l(d.right)>l(a.left)||'right'===o&&l(d.left)<l(a.right)||'top'===o&&l(d.bottom)>l(a.top)||'bottom'===o&&l(d.top)<l(a.bottom),m=l(d.left)<l(t.left),h=l(d.right)>l(t.right),c=l(d.top)<l(t.top),g=l(d.bottom)>l(t.bottom),u='left'===o&&m||'right'===o&&h||'top'===o&&c||'bottom'===o&&g,b=-1!==['top','bottom'].indexOf(o),C=!!e.flipVariations&&(b&&'start'===n&&m||b&&'end'===n&&h||!b&&'start'===n&&c||!b&&'end'===n&&g);(f||u||C)&&(k.flipped=!0,(f||u)&&(o=r[s+1]),C&&(n=F(n)),k.placement=o+(n?'-'+n:''),k.offsets.popper=Z({},k.offsets.popper,x(k.instance.popper,k.offsets.reference,k.placement)),k=D(k.instance.modifiers,k,'flip'))}),k},behavior:'flip',padding:5,boundariesElement:'viewport'},inner:{order:700,enabled:!1,fn:function(a){var e=a.placement,t=e.split('-')[0],o=a.offsets,i=o.popper,n=o.reference,r=-1!==['left','right'].indexOf(t),d=-1===['top','left'].indexOf(t);return i[r?'left':'top']=n[t]-(d?i[r?'width':'height']:0),a.placement=v(e),a.offsets.popper=ve(i),a}},hide:{order:800,enabled:!0,fn:function(a){if(!U(a.instance.modifiers,'hide','preventOverflow'))return a;var e=a.offsets.reference,t=g(a.instance.modifiers,function(t){return'preventOverflow'===t.name}).boundaries;if(e.bottom<t.top||e.left>t.right||e.top>t.bottom||e.right<t.left){if(!0===a.hide)return a;a.hide=!0,a.attributes['x-out-of-boundaries']=''}else{if(!1===a.hide)return a;a.hide=!1,a.attributes['x-out-of-boundaries']=!1}return a}},computeStyle:{order:850,enabled:!0,fn:function(r,e){var t=e.x,o=e.y,i=r.offsets.popper,n=g(r.instance.modifiers,function(t){return'applyStyle'===t.name}).gpuAcceleration;void 0!==n&&console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');var p,s,d=void 0===n?e.gpuAcceleration:n,a=me(r.instance.popper),l=we(a),f={position:i.position},m={left:_(i.left),top:_(i.top),bottom:_(i.bottom),right:_(i.right)},h='bottom'===t?'top':'bottom',c='right'===o?'left':'right',u=k('transform');if(s='bottom'==h?-l.height+m.bottom:m.top,p='right'==c?-l.width+m.right:m.left,d&&u)f[u]='translate3d('+p+'px, '+s+'px, 0)',f[h]=0,f[c]=0,f.willChange='transform';else{var v='bottom'==h?-1:1,w='right'==c?-1:1;f[h]=s*v,f[c]=p*w,f.willChange=h+', '+c}var y={"x-placement":r.placement};return r.attributes=Z({},y,r.attributes),r.styles=Z({},f,r.styles),r.arrowStyles=Z({},r.offsets.arrow,r.arrowStyles),r},gpuAcceleration:!0,x:'bottom',y:'right'},applyStyle:{order:900,enabled:!0,fn:function(t){return P(t.instance.popper,t.styles),I(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&P(t.arrowElement,t.arrowStyles),t},onLoad:function(a,e,t,o,i){var n=f(i,e,a),r=s(t.placement,n,e,a,t.modifiers.flip.boundariesElement,t.modifiers.flip.padding);return e.setAttribute('x-placement',r),P(e,{position:'absolute'}),t},gpuAcceleration:void 0}}},oe});